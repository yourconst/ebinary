# Browser Tests for Ebinary

This directory contains browser-compatible tests for the Ebinary library using Mocha and Chai.

## Files

- `mocha-specs.html` - Main test page with Mocha and Chai loaded from CDN
- `mocha-specs.bundle.js` - Bundled test files (generated by browserify)
- `specs.html` - Legacy test page (Jest-based)
- `specs.bundle.js` - Legacy bundled tests

## Running Browser Tests

### Method 1: Using npm script
```bash
npm run test-browser
```
This will build the bundle and show instructions to open the HTML file.

### Method 2: Manual build
```bash
npm run browserify-mocha-specs
```
Then open `tests/frontend/mocha-specs.html` in your browser.

## Features

- **Mocha + Chai**: Modern testing framework with expressive assertions
- **NO_EVAL Support**: Add `?noeval=true` to URL to test without eval() function
- **Real-time Results**: Tests run automatically when page loads
- **Statistics**: Shows total tests, passed, failed, and duration
- **Browser Compatibility**: Works in all modern browsers

## URL Parameters

- `?noeval=true` - Run tests with NO_EVAL environment (disables eval() function)

## Example URLs

- Normal tests: `file:///path/to/tests/frontend/mocha-specs.html`
- NO_EVAL tests: `file:///path/to/tests/frontend/mocha-specs.html?noeval=true`

## Development

To add new tests:

1. Add your test file to `tests/specs/`
2. Import it in `tests/specs/browser.ts`
3. Run `npm run browserify-mocha-specs` to rebuild the bundle
4. Refresh the browser page

## Troubleshooting

- If tests don't run, check browser console for errors
- Make sure `mocha-specs.bundle.js` exists and is up-to-date
- For NO_EVAL tests, ensure the URL parameter is correct
